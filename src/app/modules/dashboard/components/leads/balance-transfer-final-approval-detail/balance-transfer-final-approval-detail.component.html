<div class="layout-px-spacing h-100">
  <div class="row h-100" style="min-height: 100vh;">
    <div class="col-md-12">
      <div class="widget bg-white h-100">
        <div class="widget-header">
          <div class="row d-block d-sm-flex align-items-center justify-content-between text-center text-sm-left">
            <div>
              <nav class="custom-breadcrum">
                <ol class="breadcrumb justify-content-center justify-content-sm-start">
                  <li class="breadcrumb-item">
                    <a routerlink="/dashboard" routerLink="/dashboard">Home</a>
                  </li>
                  <li class="breadcrumb-item">
                    <a routerLink="../../">Balance Transfer</a>
                  </li>
                  <li aria-current="page" class="breadcrumb-item active">
                    Final Approval
                  </li>
                </ol>
              </nav>
              <h1>Balance Transfer Approval Loan Details</h1>
            </div>
          </div>
        </div>

        <div class="mx-5 my-3">
          <form>
            <div class="container pl-3">
              <div class="mb-4">
                <h5><a class="hover-link" (click)="stepChange(1)"> <i class="fa"
                      [ngClass]="{'fa-minus': currentStep === 1, 'fa-plus': currentStep !==1}"></i>
                    Personal Detail</a></h5>
              </div>
              <div class="form-div p-4" *ngIf="currentStep === 1">
                <div class="container inner-form-div">
                  <div class="row">
                    <div class="col-md-2 box">
                      <div class="mt-4 text-center">Name</div>
                    </div>
                    <div class="col-md-3 box">
                      <div class="mt-4 text-center">{{profileData?.fullname}}</div>
                    </div>
                    <div class="col-md-3 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Name',profileData?.fullname, documentDetails?.kyc_document_poi)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.kyc_document_poi" width="50" height="50" alt="POI"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>
                    <div class="col-md-4 box">
                      <div class="row border-bottom p-1">
                        <div class="col-md-6 text-center">
                          <strong>Status</strong>
                        </div>
                        <div class="col-md-6">
                          <strong>Remark</strong>
                        </div>
                      </div>
                      <div class="row p-1">
                        <div class="col-md-6 text-center">
                          <p>{{nameChecker ? 'OK': 'Not Ok'}}</p>
                        </div>
                        <div class="text-center col-md-6">
                          <button (click)="viewComment(nameRemark)" class="btn btn-primary" data-toggle="modal"
                            aria-label="screens" data-target="#comment">View Comment</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row" *ngIf="leadDetails?.loan_type?.loan_type === 'bt_external'">
                    <div class="col-md-2 box">
                      <div class="mt-4 text-center">Address</div>
                    </div>
                    <div class="col-md-3 box">
                      <div class="mt-4 text-center">{{addressDetails?.address_line1}} {{addressDetails?.address_line2}}
                      </div>
                    </div>
                    <div class="col-md-3 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Address',addressDetails?.address_line1 + ',' + addressDetails?.address_line2 + ',' + addressDetails?.city?.name + ',' + addressDetails?.state?.name, documentDetails?.kyc_document_poa)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.kyc_document_poa" width="50" height="50" alt="POI"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>
                    <div class="col-md-4 box">
                      <div class="row border-bottom p-1">
                        <div class="col-md-6 text-center">
                          <strong>Status</strong>
                        </div>
                        <div class="col-md-6">
                          <strong>Remark</strong>
                        </div>
                      </div>
                      <div class="row p-1">
                        <div class="col-md-6 text-center">
                          <p>{{addressChecker ? 'OK': 'Not Ok'}}</p>
                        </div>
                        <div class="text-center col-md-6">
                          <button (click)="viewComment(addressRemark)" class="btn btn-primary" data-toggle="modal"
                            aria-label="screens" data-target="#comment">View Comment</button>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-2 box">
                      <div class="mt-4 text-center">Father's Name</div>
                    </div>
                    <div class="col-md-3 box">
                      <div class="mt-4 text-center">{{profileData?.father_name}}
                      </div>
                    </div>
                    <div class="col-md-3 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Father\'s Name',profileData?.father_name, documentDetails?.kyc_document_poi)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.kyc_document_poi" width="50" height="50" alt="KYC POI"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>

                  </div>

                  <div class="row">
                    <div class="col-md-2 box">
                      <div class="mt-4 text-center">Customer Photo</div>
                    </div>
                    <div class="col-md-3 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3">
                          <a (click)="loadImage('Customer Photo','User Photo', documentDetails?.customer_photo)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.customer_photo" width="50" height="50" alt="Customer Photo"
                              class="img-fluid img-thumbnail lazyload"></a>
                        </p>
                      </div>
                    </div>
                    <div class="col-md-4 box">
                      <div class="row border-bottom p-1">
                        <div class="col-md-6 text-center">
                          <strong>Status</strong>
                        </div>
                        <div class="col-md-6">
                          <strong>Remark</strong>
                        </div>
                      </div>
                      <div class="row p-1">
                        <div class="col-md-6 text-center">
                          <p>{{photoChecker ? 'OK': 'Not Ok'}}</p>
                        </div>
                        <div class="text-center col-md-6">
                          <button (click)="viewComment(photoRemark)" class="btn btn-primary" data-toggle="modal"
                            aria-label="screens" data-target="#comment">View Comment</button>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Mobile Number</div>
                    </div>


                    <div class="col-md-6 box">
                      <div class="my-3 text-center">
                        {{profileData?.phonenumber}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Gender</div>
                    </div>

                    <div class="col-md-6 box">
                      <div class="my-3 text-center">
                        {{profileData?.gender |titlecase}}
                      </div>
                    </div>
                  </div>
                </div>

                <div class="text-center mt-2">

                  <button class="btn btn-primary mr-3" (click)="stepUp()">Save & Next</button>
                </div>
              </div>

              <div class="my-4">
                <h5><a class="hover-link" (click)="stepChange(2)"> <i class="fa"
                      [ngClass]="{'fa-minus': currentStep === 2, 'fa-plus': currentStep !==2}"></i>
                    Jewellery Details</a></h5>
              </div>
              <div class="form-div p-4" *ngIf="currentStep === 2">
                <div class="container inner-form-div">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="row">
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">Gross Gold Weight (in grams)</div>
                        </div>
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">{{leadDetails?.gross_weight_gold}}</div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">Karat</div>
                        </div>

                        <div class="col-md-6 box">
                          <div class="my-3 text-center">
                            {{leadDetails?.karat}}
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">Net Weight of Gold (in grams)</div>
                        </div>

                        <div class="col-md-6 box">
                          <div class="my-3 text-center">
                            {{leadDetails?.weight_of_gold_grams}}
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">Loan Type</div>
                        </div>

                        <div class="col-md-6 box">
                          <div class="my-3 text-center">
                            {{leadDetails?.loan_type?.loan_type}}
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">How Soon Need Loan (in days)</div>
                        </div>

                        <div class="col-md-6 box">
                          <div class="my-3 text-center">
                            {{leadDetails?.how_soon_need_loan_in_days}}
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="my-4">
                        <a (click)="loadImage('Loan Document','Mark fail if doesn\'t exist/match', documentDetails?.loan_document)"
                          href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                          <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                          <img [src]="documentDetails?.loan_document" alt="Loan Document"
                            class="img-fluid img-thumbnail lazyload"></a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="text-center mt-2">
                  <button class="btn btn-outline-primary mr-3" (click)="stepDown()">Back</button>
                  <ng-template
                    *ngIf="leadDetails?.loan_type?.loan_type === 'bt_internal' || (leadDetails?.loan_type?.loan_type === 'bt_external' && accountTransferDetails?.account_type === 'existing') then thenBlock else elseBlock">
                  </ng-template>
                  <ng-template #thenBlock><button class="btn btn-primary mr-3" (click)="stepUp()">Save & Next</button>
                  </ng-template>
                  <ng-template #elseBlock><button class="btn btn-primary mr-3" (click)="currentStep = 4">Save &
                      Next</button>
                  </ng-template>
                </div>
              </div>
              <div
                *ngIf="leadDetails?.loan_type?.loan_type === 'bt_internal' || (leadDetails?.loan_type?.loan_type === 'bt_external' && accountTransferDetails?.account_type === 'existing')">
                <div class="my-4">
                  <h5><a class="hover-link" (click)="stepChange(3)"> <i class="fa"
                        [ngClass]="{'fa-minus': currentStep === 3, 'fa-plus': currentStep !==3}"></i>
                      Existing Loan Detail</a></h5>
                </div>
                <div class="form-div p-4" *ngIf="currentStep === 3">
                  <div class="container inner-form-div">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="row" *ngIf="accountTransferDetails?.account_type === 'existing'">
                          <div class="col-md-6 box">
                            <div class="mt-4 text-center">Outstanding Amount</div>
                          </div>

                          <div class="col-md-6 box">
                            <div class="my-3 text-center">
                              {{accountTransferDetails?.existing_loan_account?.outstanding_loan_amount}}
                            </div>
                          </div>
                        </div>
                        <div class="row" *ngIf="accountTransferDetails?.account_type === 'existing'">
                          <div class="col-md-6 box">
                            <div class="mt-4 text-center">Existing Loan Account Number</div>
                          </div>

                          <div class="col-md-6 box">
                            <div class="my-3 text-center">
                              {{accountTransferDetails?.existing_loan_account?.existing_loan_account_number}}
                            </div>
                          </div>
                        </div>

                        <div class="row"
                          *ngIf="leadDetails?.loan_type?.loan_type === 'bt_external' && accountTransferDetails?.account_type === 'existing'">
                          <div class="col-md-6 box">
                            <div class="mt-4 text-center">Age of Last Loan (in months)</div>
                          </div>

                          <div class="col-md-6 box">
                            <div class="my-3 text-center">
                              {{leadDetails?.age_of_last_loan_in_months}}
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-md-6 box">
                            <div class="mt-4 text-center">BANK IFSC</div>
                          </div>

                          <div class="col-md-6 box">
                            <div class="my-3 text-center">
                              <p *ngIf="leadDetails?.loan_type?.loan_type === 'bt_internal'">
                                {{appointmentDetails?.ifsc_code}}</p>
                              <p *ngIf="leadDetails?.loan_type?.loan_type === 'bt_external'">
                                {{accountTransferDetails?.existing_loan_account?.ifsc_code}}</p>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6 box">
                            <div class="mt-4 text-center">Bank Name</div>
                          </div>

                          <div class="col-md-6 box">
                            <div class="my-3 text-center">
                              {{exisitingBankName}}
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-md-6 box">
                            <div class="mt-4 text-center">Bank Branch</div>
                          </div>

                          <div class="col-md-6 box">
                            <div class="my-3 text-center">
                              {{exisitingBranchName}}
                            </div>
                          </div>
                        </div>

                      </div>
                      <div class="col-md-6">
                        <div class="my-4">
                          <a (click)="loadImage('Loan Document','Mark fail if doesn\'t exist/match', documentDetails?.loan_document)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.loan_document" alt="Loan Document"
                              class="img-fluid img-thumbnail lazyload"></a>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="m-3">
                    <div class="row border-bottom p-1">
                      <div class="col-md-6 text-center">
                        <strong>Status</strong>
                      </div>
                      <div class="col-md-6 text-center">
                        <strong>Remark</strong>
                      </div>
                    </div>
                    <div class="row p-1">
                      <div class="col-md-6 text-center">
                        <p>{{existing_loan_status ? 'OK': 'Not Ok'}}</p>
                      </div>
                      <div class="text-center col-md-6">
                        <button (click)="viewComment(existing_loan_remark)" class="btn btn-primary" data-toggle="modal"
                          aria-label="screens" data-target="#comment">View Comment</button>
                      </div>
                    </div>
                  </div>
                  <div class="text-center mt-2">
                    <button class="btn btn-outline-primary mr-3" (click)="stepDown()">Back</button>
                    <button class="btn btn-primary mr-3" (click)="stepUp()">Save & Next</button>
                  </div>
                </div>
              </div>
              <div class="my-4">
                <h5><a class="hover-link" (click)="stepChange(4)"> <i class="fa"
                      [ngClass]="{'fa-minus': currentStep === 4, 'fa-plus': currentStep !==4}"></i> Fund
                    Transfer Details</a></h5>
              </div>
              <div class="form-div p-4" *ngIf="currentStep === 4">
                <div class="container inner-form-div">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="row">
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">Loan Account Number</div>
                        </div>
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">{{accountTransferDetails?.loan_account_number}}</div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">Balance Transfer Amount</div>
                        </div>
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">{{accountTransferDetails?.balance_transfer_amount}}</div>
                        </div>
                      </div>

                      <div
                        *ngIf="(leadDetails?.loan_type?.loan_type !== 'bt_internal' && accountTransferDetails?.account_type !== 'existing') || leadDetails?.loan_type?.loan_type === 'bt_external' ">
                        <div class="row"
                          *ngIf="accountTransferDetails?.account_type === 'existing' || accountTransferDetails?.account_type === 'security' || accountTransferDetails?.account_type === 'other'">
                          <div class="col-md-6 box">
                            <div class="mt-4 text-center">IFSC Code</div>
                          </div>
                          <div class="col-md-6 box">
                            <div class="mt-4 text-center">{{accountTransferDetails?.ifsc_code}}</div>
                          </div>
                        </div>
                      </div>
                      <div class="row" *ngIf="accountTransferDetails?.account_type === 'security'">
                        <div class="col-md-6 box">
                          <div class="mt-4 text-center">Security Cheque Transfer</div>
                        </div>

                        <div class="col-md-3 box">
                          <div class="my-3 text-center">

                            <p class="text-center py-3"><a
                                (click)="loadImage('Security Cheque Transfer', 'Mark fail if doesn\'t exist/match', documentDetails?.security_cheque_1)"
                                href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                                <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                                <img [src]="documentDetails?.security_cheque_1" width="50" height="50"
                                  alt="bank details" class="img-fluid img-thumbnail lazyload"></a></p>

                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="my-4">
                        <a *ngIf="accountTransferDetails?.account_type === 'existing'"
                          (click)="loadImage('Loan Document','Mark fail if doesn\'t exist/match', documentDetails?.loan_document)"
                          href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                          <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                          <img [src]="documentDetails?.loan_document" alt="Loan Document"
                            class="img-fluid img-thumbnail lazyload"></a>
                        <a *ngIf="accountTransferDetails?.account_type !== 'existing'"
                          (click)="loadImage('Document','Mark fail if doesn\'t exist/match', accountTransferDetails?.security_cheque_1)"
                          href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                          <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                          <img [src]="accountTransferDetails?.security_cheque_1" alt="Loan Document"
                            class="img-fluid img-thumbnail lazyload"></a>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="m-3">
                  <div class="row border-bottom p-1">
                    <div class="col-md-6 text-center">
                      <strong>Status</strong>
                    </div>
                    <div class="col-md-6 text-center">
                      <strong>Remark</strong>
                    </div>
                  </div>
                  <div class="row p-1">
                    <div class="col-md-6 text-center">
                      <p>{{existing_loan_status ? 'OK': 'Not Ok'}}</p>
                    </div>
                    <div class="text-center col-md-6">
                      <button (click)="viewComment(existing_loan_remark)" class="btn btn-primary" data-toggle="modal"
                        aria-label="screens" data-target="#comment">View Comment</button>
                    </div>
                  </div>
                </div>

                <div class="text-center mt-2">
                  <ng-template
                    *ngIf="leadDetails?.loan_type?.loan_type === 'bt_internal' || (leadDetails?.loan_type?.loan_type === 'bt_external' && accountTransferDetails?.account_type === 'existing') then thenBlock else elseBlock">
                  </ng-template>
                  <ng-template #thenBlock><button class="btn btn-secondary mr-3" (click)="stepDown()">Back</button>
                  </ng-template>
                  <ng-template #elseBlock><button class="btn btn-secondary mr-3" (click)="currentStep = 2">Back</button>
                  </ng-template>
                  <button class="btn btn-primary mr-3" (click)="stepUp()">Save & Next</button>
                </div>
              </div>
              <div class="my-4">
                <h5><a class="hover-link" (click)="stepChange(5)"> <i class="fa"
                      [ngClass]="{'fa-minus': currentStep === 5, 'fa-plus': currentStep !== 5}"></i>
                    Document Details </a></h5>
              </div>
              <div class="form-div p-4" *ngIf="currentStep === 5">
                <div class="container inner-form-div">
                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Security Cheque 1</div>
                    </div>
                    <div class="col-md-6 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Security Cheque 1', 'Mark fail if doesn\'t exist/match', documentDetails?.security_cheque_1)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.security_cheque_1" width="50" height="50" alt="bank details"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>
                  </div>
                  <div class="row"
                    *ngIf="leadDetails?.loan_type?.loan_type === 'bt_external' || (leadDetails?.loan_type?.loan_type === 'bt_internal' && documentDetails?.security_cheque_2)">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Security Cheque 2</div>
                    </div>
                    <div class="col-md-6 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Security Cheque 2', 'Mark fail if doesn\'t exist/match',documentDetails?.security_cheque_2)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.security_cheque_2" width="50" height="50" alt="bank details"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Loan Document</div>
                    </div>
                    <div class="col-md-6 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Loan Document', 'Mark fail if doesn\'t exist/match',documentDetails?.loan_document)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.loan_document" width="50" height="50" alt="bank details"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>
                  </div>
                  <div class="row"
                    *ngIf="leadDetails?.loan_type?.loan_type === 'bt_external' || (leadDetails?.loan_type?.loan_type === 'bt_internal' && documentDetails?.security_cheque_2)">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Promissory Note</div>
                    </div>
                    <div class="col-md-6 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Promissory Note','Mark fail if doesn\'t exist/match', documentDetails?.promissory_note)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.promissory_note" width="50" height="50" alt="bank details"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>
                  </div>
                  <div class="row"
                    *ngIf="leadDetails?.loan_type?.loan_type === 'bt_external' || (leadDetails?.loan_type?.loan_type === 'bt_internal' && documentDetails?.security_cheque_2)">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Agreement Last Page</div>
                    </div>
                    <div class="col-md-6 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Agreement Last Page', 'Mark fail if doesn\'t exist/match',documentDetails?.agreement_last_page)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.agreement_last_page" width="50" height="50" alt="bank details"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>
                  </div>
                  <div class="row"
                    *ngIf="leadDetails?.loan_type?.loan_type === 'bt_external' || (leadDetails?.loan_type?.loan_type === 'bt_internal' && documentDetails?.security_cheque_2)">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Foreclousre Letter</div>
                    </div>
                    <div class="col-md-6 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Foreclousre Letter', 'Mark fail if doesn\'t exist/match',documentDetails?.foreclousre_letter)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.foreclousre_letter" width="50" height="50" alt="bank details"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>
                  </div>

                  <div class="row"
                    *ngIf="leadDetails?.loan_type?.loan_type === 'bt_external' || (leadDetails?.loan_type?.loan_type === 'bt_internal' && documentDetails?.security_cheque_2)">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Atm Withdrawl</div>
                    </div>
                    <div class="col-md-6 box">
                      <div class="my-3 text-center">

                        <p class="text-center py-3"><a
                            (click)="loadImage('Atm Withdrawl', 'Mark fail if doesn\'t exist/match',documentDetails?.atm_withdrawl)"
                            href="#" data-toggle="modal" aria-label="screens" data-target="#mScreenshot">
                            <i class="fa-solid fa-circle-plus  position-absolute bg-white shadow"></i>
                            <img [src]="documentDetails?.atm_withdrawl" width="50" height="50" alt="bank details"
                              class="img-fluid img-thumbnail lazyload"></a></p>

                      </div>
                    </div>
                  </div>

                </div>

                <div class="m-3">
                  <div class="row border-bottom p-1">
                    <div class="col-md-6 text-center">
                      <strong>Status</strong>
                    </div>
                    <div class="col-md-6 text-center">
                      <strong>Remark</strong>
                    </div>
                  </div>
                  <div class="row p-1">
                    <div class="col-md-6 text-center">
                      <p>{{existing_loan_status ? 'OK': 'Not Ok'}}</p>
                    </div>
                    <div class="text-center col-md-6">
                      <button (click)="viewComment(existing_loan_remark)" class="btn btn-primary" data-toggle="modal"
                        aria-label="screens" data-target="#comment">View Comment</button>
                    </div>
                  </div>
                </div>

                <div class="text-center mt-2">
                  <button class="btn btn-outline-primary mr-3" (click)="stepDown()">Back</button>
                  <button class="btn btn-primary mr-3" (click)="stepUp()">Save & Next</button>
                </div>
              </div>
              <div class="my-4">
                <h5><a class="hover-link" (click)="stepChange(6)"> <i class="fa"
                      [ngClass]="{'fa-minus': currentStep === 6, 'fa-plus': currentStep !==6}"></i>
                    Appointment</a></h5>
              </div>
              <div class="form-div p-4" *ngIf="currentStep === 6">
                <div class="container inner-form-div">
                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">IFSC Code</div>
                    </div>

                    <div class="col-md-6 box">
                      <div class="my-3 text-center">
                        {{appointmentDetails?.ifsc_code}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Bank Name</div>
                    </div>

                    <div class="col-md-6 box">
                      <div class="my-3 text-center">
                        {{appointmentBankName}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Branch Name</div>
                    </div>

                    <div class="col-md-6 box">
                      <div class="my-3 text-center">
                        {{appointmentBranchName}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">City</div>
                    </div>

                    <div class="col-md-6 box">
                      <div class="my-3 text-center">
                        {{appointmentCityName}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Appointment time
                      </div>
                    </div>

                    <div class="col-md-6 box">
                      <div class="my-3 text-center">
                        {{appointmentDetails?.appointment_time}}
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 box">
                      <div class="mt-4 text-center">Appointment date</div>
                    </div>

                    <div class="col-md-6 box">
                      <div class="my-3 text-center">
                        {{appointmentDetails?.appointment_date | date: 'mediumDate'}}
                      </div>
                    </div>
                  </div>
                </div>

                <div class="m-3">
                  <div class="row border-bottom p-1">
                    <div class="col-md-6 text-center">
                      <strong>Status</strong>
                    </div>
                    <div class="col-md-6 text-center">
                      <strong>Remark</strong>
                    </div>
                  </div>
                  <div class="row p-1">
                    <div class="col-md-6 text-center">
                      <p>{{existing_loan_status ? 'OK': 'Not Ok'}}</p>
                    </div>
                    <div class="text-center col-md-6">
                      <button (click)="viewComment(existing_loan_remark)" class="btn btn-primary" data-toggle="modal"
                        aria-label="screens" data-target="#comment">View Comment</button>
                    </div>
                  </div>
                </div>

                <div class="text-center mt-2">
                  <button class="btn btn-outline-primary mr-3" (click)="stepDown()">Back</button>
                  <button class="btn btn-primary mr-3" (click)="stepUp()">Save & Next</button>
                </div>
              </div>
            </div>
          </form>
          <div class="row gender-row my-3">
            <div class="col-md-6 text-center">
              <strong class="mr-5">Status</strong>
              <label class="radio-inline mr-5">
                <input type="radio" value="True" name="compliance_status" [(ngModel)]="compliance_status" checked>Ok
              </label>
              <label class="radio-inline">
                <input type="radio" value="False" name="compliance_status" [(ngModel)]="compliance_status">Not Ok
              </label>
            </div>
            <div class="col-md-6 text-center">
              <div class="row">
                <div class="col-md-5">
                  <input type="text" [(ngModel)]="compliance_remark" name="compliance_remark" class="form-control pb-2"
                    placeholder="Add Remark">
                </div>
              </div>
            </div>
          </div>
          <div class="text-center">
            <a (click)="saveComplianceStatus()">
              <button class="btn btn-primary mr-3">
                Review & Submit
              </button>
            </a>
            <a routerLink="../../">
              <button class="btn btn-outline-primary">
                Cancel
              </button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="mScreenshot">
    <div class="modal-dialog modal-lg">
      <div class="modal-content" style="top:50px;">
        <div class="modal-header">
          <p><strong>{{text}} : </strong>{{dataVerify}}</p>
          <button style="z-index: 10;" type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <lib-ngx-image-zoom
            [thumbImage]="imageVerify"
            [fullImage]="imageVerify"
            [magnification]="1"
            [enableLens]="true"
            [lensWidth]="200"
            [altText]="dataVerify">
          </lib-ngx-image-zoom>
          <!-- <img [src]="imageVerify" alt="{{dataVerify}}" width="500" height="500" class="img-fluid"> -->
        </div>
      </div>
    </div>
  </div>


  <div class="modal fade" id="review">
    <div class="modal-dialog modal-lg">
      <div class="modal-content" style="top:50px;">
        <div class="modal-header">
          Final Status
        </div>
        <div class="modal-body">
          <table class="table">
            <tbody>
              <tr>

                <td>Personal Detail</td>
                <td>{{isPersonalDetailCorrect? 'Ok': 'Not Ok'}}</td>
              </tr>
              <tr>

                <td>Existing Loan Detail</td>
                <td>{{isAccountTransferDetailCorrect? 'Ok': 'Not Ok'}}</td>
              </tr>
              <tr>

                <td>Fund Transfer Detail</td>
                <td>{{isFundingDetailCorrect? 'Ok': 'Not Ok'}}</td>
              </tr>
              <tr>

                <td>Document Details</td>
                <td>{{isDocumentDetailCorrect? 'Ok': 'Not Ok'}}</td>
              </tr>
              <tr>

                <td>Appointment Details</td>
                <td>{{isAppointmentDetailCorrect? 'Ok': 'Not Ok'}}</td>
              </tr>
            </tbody>

          </table>
          <div class="text-center">
            <a routerLink="../../../compliance-panel">
              <button (click)="savePersonalDetails()" class="btn btn-primary mr-3" data-dismiss="modal">
                Save & Submit
              </button>
            </a>
            <button class="btn btn-outline-primary" data-dismiss="modal">
              Cancel
            </button>
          </div>
        </div>

      </div>
    </div>
  </div>
  <div class="modal fade" style="margin-top: 5%;" id="comment" data-backdrop="static" data-keyboard="false"
    tabindex="-1" aria-labelledby="changeStatusLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header text-white">
          <h5 class="modal-title" id="changeStatusLabel">Remark</h5>
          <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          {{remarkIs}}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-danger" data-dismiss="modal"> <i
              class="fas fa-times pr-1"></i>Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>
